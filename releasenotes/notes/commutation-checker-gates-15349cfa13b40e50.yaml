---
features_circuits:
  - |
    The :class:`.CommutationChecker` class has a new argument
    called `gates` in the initializer, which allows to compute the
    commutations only on a subset of gates. This enables speedups
    in cases where not all commutations are of interest.

    Example::

        from qiskit.transpiler.passes import CommutationAnalysis
        from qiskit.circuit.commutation_library import CommutationChecker, StandardGateCommutations

        gates = ["cx", "x", "rx"]
        commutation_checker = CommutationChecker(
            StandardGateCommutations, gates=gates
        )

        # run commutation analysis only on cx, x and rx gates
        analysis = CommutationAnalysis(commutation_checker)
